<!-- … Kopf & Toolbar unverändert … -->

<!-- Editor-Modal -->
<dialog id="editorModal" aria-labelledby="editorTitle">
  <form method="dialog" id="editorForm">
    <header class="modalHeader">
      <h2 id="editorTitle">CRISPR-Editor</h2>
      <button id="editorClose" value="cancel" title="Schließen">✖</button>
    </header>

    <div class="modalBody">
      <section class="editorLeft">
        <h3>Traits anpassen</h3>

        <div class="traitRow" data-trait="TEM">
          <label>TEM – Tempo</label>
          <div class="stepper">
            <button type="button" class="dec">-1</button>
            <output class="val">5</output>
            <button type="button" class="inc">+1</button>
          </div>
        </div>
        <div class="traitRow" data-trait="GRO">
          <label>GRÖ – Größe</label>
          <div class="stepper">
            <button type="button" class="dec">-1</button>
            <output class="val">5</output>
            <button type="button" class="inc">+1</button>
          </div>
        </div>
        <div class="traitRow" data-trait="EFF">
          <label>EFF – Effizienz</label>
          <div class="stepper">
            <button type="button" class="dec">-1</button>
            <output class="val">5</output>
            <button type="button" class="inc">+1</button>
          </div>
        </div>
        <div class="traitRow" data-trait="SCH">
          <label>SCH – Schutz</label>
          <div class="stepper">
            <button type="button" class="dec">-1</button>
            <output class="val">5</output>
            <button type="button" class="inc">+1</button>
          </div>
        </div>
        <!-- NEU: MET -->
        <div class="traitRow" data-trait="MET">
          <label>MET – Stoffwechsel</label>
          <div class="stepper">
            <button type="button" class="dec">-1</button>
            <output class="val">5</output>
            <button type="button" class="inc">+1</button>
          </div>
        </div>

        <div class="editorActions">
          <button id="editorApply" class="primary" type="submit" value="ok">Übernehmen</button>
        </div>
        <p class="hint mono">Neue Zellen aus dem Editor starten immer als <strong>neuer Stamm</strong>.</p>
      </section>

      <section class="editorRight">
        <h3>Lebende Zellen • Prognose</h3>
        <div id="editorCellList" class="cellList"></div>

        <div class="advisorBox">
          <div class="advisorHeader">
            <strong>KI-Advisor:</strong>
            <span id="editorAdvisorStatus">Aus</span>
          </div>
          <div class="advisorCtrls">
            <button type="button" id="editorAdvisorToggle" title="Modus umschalten">Modus: Umschalten</button>
            <input type="text" id="editorModelUrl" placeholder="models/model.json" value="models/model.json" />
            <button type="button" id="editorModelLoad" title="TensorFlow.js Modell laden">Modell laden</button>
          </div>
          <small id="editorAdvisorNote">Modi: Aus • Heuristik • Modell (TensorFlow.js)</small>
        </div>
      </section>
    </div>
  </form>
</dialog>